language: c
sudo: false

os:
  - linux

env:
  global:
    - DEVKITPRO=/opt/devkitpro
    - DEVKITPPC=${DEVKITPRO}/devkitPPC

cache:
  directories:
    - ${DEVKITPRO}

addons:
  apt:
    packages:
    - p7zip-full

before_install:
  - wget https://raw.githubusercontent.com/devkitPro/installer/master/perl/devkitPPCupdate.pl
  - wget https://github.com/dimok789/loadiine_gx2/releases/download/v0.2/libogc.7z
  - wget https://github.com/dimok789/loadiine_gx2/releases/download/v0.2/portlibs.7z

install:
  - perl devkitPPCupdate.pl
  - 7z x -y libogc.7z -o${DEVKITPRO}
  - 7z x -y portlibs.7z -o${DEVKITPRO}

script:
  - make